2025-05-24 11:45:10,029 - __main__ - INFO - Starting Control Unit Backend...
2025-05-24 11:45:10,029 - kernel.control_logic - INFO - ControlLogic initialized. Mode: AUTOMATIC, State: NORMAL
2025-05-24 11:45:10,029 - communication.mqtt_handler - ERROR - MQTT connection failed with an unexpected error: module 'config' has no attribute 'MQTT_BROKER_ADDRESS'
Traceback (most recent call last):
  File "C:\Users\nicom\Desktop\REPO ASS#3\iot-assignment3\src\control-unit-backend\communication\mqtt_handler.py", line 62, in connect
    self.client.connect(config.MQTT_BROKER_ADDRESS, config.MQTT_BROKER_PORT, 60)
AttributeError: module 'config' has no attribute 'MQTT_BROKER_ADDRESS'
2025-05-24 11:45:10,029 - communication.mqtt_handler - INFO - MQTT listening loop started.
2025-05-24 11:45:10,029 - communication.serial_handler - ERROR - Serial connection failed on COM4: could not open port 'COM4': FileNotFoundError(2, 'Impossibile trovare il file specificato.', None, 2)
2025-05-24 11:45:10,029 - __main__ - WARNING - Could not connect to Arduino. Window control might be unavailable.
2025-05-24 11:45:10,029 - communication.mqtt_handler - WARNING - Cannot publish sampling frequency: MQTT client not connected or not initialized.
2025-05-24 11:45:10,029 - communication.serial_handler - WARNING - Cannot send command 'LCD:AUTOMATIC': Serial port not open or not initialized.
2025-05-24 11:45:10,029 - communication.serial_handler - WARNING - Cannot send command 'W0': Serial port not open or not initialized.
2025-05-24 11:45:10,040 - __main__ - INFO - Flask API server starting on http://0.0.0.0:5000
2025-05-24 11:45:10,062 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.100:5000
2025-05-24 11:45:10,062 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-24 11:46:49,390 - __main__ - INFO - Shutdown signal received. Cleaning up...
2025-05-24 11:46:49,390 - communication.mqtt_handler - INFO - MQTT client not connected or not initialized, no need to stop loop.
2025-05-24 11:46:49,390 - __main__ - INFO - Cleanup complete. Exiting.
2025-05-24 11:46:49,390 - __main__ - INFO - Flask app has stopped.
2025-05-24 11:46:54,016 - __main__ - INFO - Starting Control Unit Backend...
2025-05-24 11:46:54,016 - kernel.control_logic - INFO - ControlLogic initialized. Mode: AUTOMATIC, State: NORMAL
2025-05-24 11:46:54,016 - communication.mqtt_handler - ERROR - MQTT connection failed with an unexpected error: name 'config' is not defined
Traceback (most recent call last):
  File "C:\Users\nicom\Desktop\REPO ASS#3\iot-assignment3\src\control-unit-backend\communication\mqtt_handler.py", line 62, in connect
    self.client.connect(config.MQTT_BROKER_ADDRESS, config.MQTT_BROKER_PORT, 60)
NameError: name 'config' is not defined
2025-05-24 11:46:54,016 - communication.mqtt_handler - INFO - MQTT listening loop started.
2025-05-24 11:46:54,016 - communication.serial_handler - ERROR - Serial connection failed on COM4: could not open port 'COM4': FileNotFoundError(2, 'Impossibile trovare il file specificato.', None, 2)
2025-05-24 11:46:54,016 - __main__ - WARNING - Could not connect to Arduino. Window control might be unavailable.
2025-05-24 11:46:54,016 - communication.mqtt_handler - WARNING - Cannot publish sampling frequency: MQTT client not connected or not initialized.
2025-05-24 11:46:54,016 - communication.serial_handler - WARNING - Cannot send command 'LCD:AUTOMATIC': Serial port not open or not initialized.
2025-05-24 11:46:54,016 - communication.serial_handler - WARNING - Cannot send command 'W0': Serial port not open or not initialized.
2025-05-24 11:46:54,027 - __main__ - INFO - Flask API server starting on http://0.0.0.0:5000
2025-05-24 11:46:54,042 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.100:5000
2025-05-24 11:46:54,042 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-24 11:47:26,467 - __main__ - INFO - Shutdown signal received. Cleaning up...
2025-05-24 11:47:26,467 - communication.mqtt_handler - INFO - MQTT client not connected or not initialized, no need to stop loop.
2025-05-24 11:47:26,467 - __main__ - INFO - Cleanup complete. Exiting.
2025-05-24 11:47:26,468 - __main__ - INFO - Flask app has stopped.
2025-05-24 11:47:28,716 - __main__ - INFO - Starting Control Unit Backend...
2025-05-24 11:47:28,716 - kernel.control_logic - INFO - ControlLogic initialized. Mode: AUTOMATIC, State: NORMAL
2025-05-24 11:47:32,800 - communication.mqtt_handler - ERROR - MQTT connection refused. Is the broker running at localhost:1883?
2025-05-24 11:47:32,800 - communication.mqtt_handler - INFO - MQTT listening loop started.
2025-05-24 11:47:32,800 - communication.serial_handler - ERROR - Serial connection failed on COM4: could not open port 'COM4': FileNotFoundError(2, 'Impossibile trovare il file specificato.', None, 2)
2025-05-24 11:47:32,800 - __main__ - WARNING - Could not connect to Arduino. Window control might be unavailable.
2025-05-24 11:47:32,800 - communication.mqtt_handler - WARNING - Cannot publish sampling frequency: MQTT client not connected or not initialized.
2025-05-24 11:47:32,800 - communication.serial_handler - WARNING - Cannot send command 'LCD:AUTOMATIC': Serial port not open or not initialized.
2025-05-24 11:47:32,800 - communication.serial_handler - WARNING - Cannot send command 'W0': Serial port not open or not initialized.
2025-05-24 11:47:32,812 - __main__ - INFO - Flask API server starting on http://0.0.0.0:5000
2025-05-24 11:47:32,822 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.100:5000
2025-05-24 11:47:32,824 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-24 11:47:54,047 - __main__ - INFO - Shutdown signal received. Cleaning up...
2025-05-24 11:47:54,047 - communication.mqtt_handler - INFO - MQTT client not connected or not initialized, no need to stop loop.
2025-05-24 11:47:54,047 - __main__ - INFO - Cleanup complete. Exiting.
2025-05-24 11:47:54,047 - __main__ - INFO - Flask app has stopped.
2025-05-24 11:48:21,245 - __main__ - INFO - Starting Control Unit Backend...
2025-05-24 11:48:21,245 - kernel.control_logic - INFO - ControlLogic initialized. Mode: AUTOMATIC, State: NORMAL
2025-05-24 11:48:25,345 - communication.mqtt_handler - ERROR - MQTT connection refused. Is the broker running at localhost:1883?
2025-05-24 11:48:25,348 - communication.mqtt_handler - INFO - MQTT listening loop started.
2025-05-24 11:48:25,348 - communication.serial_handler - ERROR - Serial connection failed on COM4: could not open port 'COM4': PermissionError(13, 'Accesso negato.', None, 5)
2025-05-24 11:48:25,349 - __main__ - WARNING - Could not connect to Arduino. Window control might be unavailable.
2025-05-24 11:48:25,349 - communication.mqtt_handler - WARNING - Cannot publish sampling frequency: MQTT client not connected or not initialized.
2025-05-24 11:48:25,350 - communication.serial_handler - WARNING - Cannot send command 'LCD:AUTOMATIC': Serial port not open or not initialized.
2025-05-24 11:48:25,350 - communication.serial_handler - WARNING - Cannot send command 'W0': Serial port not open or not initialized.
2025-05-24 11:48:25,356 - __main__ - INFO - Flask API server starting on http://0.0.0.0:5000
2025-05-24 11:48:25,367 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.100:5000
2025-05-24 11:48:25,367 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-24 11:50:17,151 - __main__ - INFO - Shutdown signal received. Cleaning up...
2025-05-24 11:50:17,151 - communication.mqtt_handler - INFO - MQTT client not connected or not initialized, no need to stop loop.
2025-05-24 11:50:17,151 - __main__ - INFO - Cleanup complete. Exiting.
2025-05-24 11:50:17,151 - __main__ - INFO - Flask app has stopped.
2025-05-24 11:50:21,365 - __main__ - INFO - Starting Control Unit Backend...
2025-05-24 11:50:21,365 - kernel.control_logic - INFO - ControlLogic initialized. Mode: AUTOMATIC, State: NORMAL
2025-05-24 11:50:25,441 - communication.mqtt_handler - ERROR - MQTT connection refused. Is the broker running at localhost:1883?
2025-05-24 11:50:25,441 - communication.mqtt_handler - INFO - MQTT listening loop started.
2025-05-24 11:50:27,442 - communication.serial_handler - INFO - Successfully connected to Arduino on COM4 at 115200 baud.
2025-05-24 11:50:27,442 - communication.serial_handler - INFO - Serial listening thread started.
2025-05-24 11:50:27,442 - communication.mqtt_handler - WARNING - Cannot publish sampling frequency: MQTT client not connected or not initialized.
2025-05-24 11:50:27,442 - __main__ - INFO - Flask API server starting on http://0.0.0.0:5000
2025-05-24 11:50:27,462 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.100:5000
2025-05-24 11:50:27,462 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-24 11:53:01,651 - __main__ - INFO - Shutdown signal received. Cleaning up...
2025-05-24 11:53:01,651 - communication.mqtt_handler - INFO - MQTT client not connected or not initialized, no need to stop loop.
2025-05-24 11:53:01,703 - communication.serial_handler - INFO - Serial listening thread stopped.
2025-05-24 11:53:01,704 - communication.serial_handler - INFO - Serial port closed.
2025-05-24 11:53:01,704 - __main__ - INFO - Cleanup complete. Exiting.
2025-05-24 11:53:01,704 - __main__ - INFO - Flask app has stopped.
